% Tor Vergata - Engineering Beamer template.
% Roberto Masocco <robmasocco@gmail.com>
% Alessandro Tenaglia <alessandro.tenaglia42@gmail.com>
% February 5, 2022

\ProvidesPackage{utvengbeamer}[2022/03/14 Tor Vergata Engineering Beamer Template]

% ---------- %
%  PACKAGES  %
% ---------- %
\RequirePackage[english]{babel}
\RequirePackage[T1]{fontenc}
\RequirePackage[utf8]{inputenc}
\RequirePackage{amsmath}
\RequirePackage{amssymb}
\RequirePackage{amsthm}
\RequirePackage{animate}
\RequirePackage[center]{caption}
\RequirePackage{csquotes}
\RequirePackage{graphicx}
\RequirePackage{hyperref}
\RequirePackage[export]{adjustbox}
\RequirePackage{ragged2e}
\RequirePackage{siunitx} % See its docs for usage instructions!
\RequirePackage{svg}
\RequirePackage{kvoptions}
\RequirePackage{microtype}

% ------------------ %
%  DOCUMENT OPTIONS  %
% ------------------ %
\SetupKeyvalOptions{
    family=UTVENGB,
    prefix=UTVENGB@
}
\DeclareStringOption[]{title}[Title]
\newcommand*{\SetupTitle}{
    \expandafter\@SetupTitle\expandafter{\CurrentOption}
}
\newcommand*{\@SetupTitle}[1]{
    \setkeys{UTVENGB}{title={#1}}
}
\DeclareStringOption[]{subtitle}[Subtitle]
\newcommand*{\SetupSubtitle}{
    \expandafter\@SetupSubtitle\expandafter{\CurrentOption}
}
\newcommand*{\@SetupSubtitle}[1]{
    \setkeys{UTVENGB}{subtitle={#1}}
}
\DeclareStringOption[]{event}[Event]
\newcommand*{\SetupEvent}{
    \expandafter\@SetupEvent\expandafter{\CurrentOption}
}
\newcommand*{\@SetupEvent}[1]{
    \setkeys{UTVENGB}{event={#1}}
}
\DeclareStringOption[]{author}[Author]
\newcommand*{\SetupAuthor}{
    \expandafter\@SetupAuthor\expandafter{\CurrentOption}
}
\newcommand*{\@SetupAuthor}[1]{
    \setkeys{UTVENGB}{author={#1}}
}
\DeclareStringOption[]{longauthor}[Long Author]
\newcommand*{\SetupLongAuthor}{
    \expandafter\@SetupLongAuthor\expandafter{\CurrentOption}
}
\newcommand*{\@SetupLongAuthor}[1]{
    \setkeys{UTVENGB}{longauthor={#1}}
}
\DeclareStringOption[]{email}[author@email.com]
\newcommand*{\SetupEmail}{
    \expandafter\@SetupEmail\expandafter{\CurrentOption}
}
\newcommand*{\@SetupEmail}[1]{
    \setkeys{UTVENGB}{email={#1}}
}
\DeclareStringOption[]{institute}[Institute]
\newcommand*{\SetupInstitute}{
    \expandafter\@SetupInstitute\expandafter{\CurrentOption}
}
\newcommand*{\@SetupInstitute}[1]{
    \setkeys{UTVENGB}{institute={#1}}
}
\DeclareStringOption[]{longinstitute}[Long Institute]
\newcommand*{\SetupLongInstitute}{
    \expandafter\@SetupLongInstitute\expandafter{\CurrentOption}
}
\newcommand*{\@SetupLongInstitute}[1]{
    \setkeys{UTVENGB}{longinstitute={#1}}
}
\DeclareStringOption[]{department}[Department]
\newcommand*{\SetupDepartment}{
    \expandafter\@SetupDepartment\expandafter{\CurrentOption}
}
\newcommand*{\@SetupDepartment}[1]{
    \setkeys{UTVENGB}{department={#1}}
}
\DeclareStringOption[]{researchgroup}[Research Group]
\newcommand*{\SetupResearchGroup}{
    \expandafter\@SetupResearchGroup\expandafter{\CurrentOption}
}
\newcommand*{\@SetupResearchGroup}[1]{
    \setkeys{UTVENGB}{researchgroup={#1}}
}
\DeclareStringOption[]{date}[Month Day, Year]
\newcommand*{\SetupDate}{
    \expandafter\@SetupDate\expandafter{\CurrentOption}
}
\newcommand*{\@SetupDate}[1]{
    \setkeys{UTVENGB}{date={#1}}
}
\ProcessKeyvalOptions*

% ----------------- %
%  BEAMER SETTINGS  %
% ----------------- %
\pdfstringdefDisableCommands{
    \def\\{}
    \def\texttt#1{<#1>}
}
\usetheme{Madrid}
\usefonttheme[onlymath]{serif}
\definecolor{UTVgreen}{RGB}{0 125 52}
\definecolor{UTVlightgreen}{rgb}{0.0 0.5 0.2}
\definecolor{UTVred}{rgb}{1.0 0.0 0.0}
\usecolortheme[named=UTVgreen]{structure}
\let\tempone\itemize
\let\temptwo\enditemize
\renewenvironment{itemize}{\tempone\addtolength{\itemsep}{0.5\baselineskip}}{\temptwo}
\title[\UTVENGB@event]{\UTVENGB@title}
\subtitle{\UTVENGB@subtitle}
\author[\UTVENGB@author]{\texorpdfstring{\UTVENGB@longauthor\newline\href{mailto:\UTVENGB@email}{\url{\UTVENGB@email}}}{\UTVENGB@longauthor}}
\institute[\UTVENGB@institute]{\UTVENGB@longinstitute\newline\UTVENGB@department\newline\UTVENGB@researchgroup}
\date{\UTVENGB@date}
\titlegraphic{\includegraphics[height=1.74cm]{figs/logo_utv_eng_full_horz.png}}
\AtBeginSection[] % Comment this if you prefer the TOC to be shown only once
{
    \begin{frame}
    \frametitle{Roadmap}
    \tableofcontents[currentsection]
    \end{frame}
}
\setbeamertemplate{navigation symbols}{} % Uncomment this to remove all navigation controls
\setbeamertemplate{caption}[numbered]
\setbeamertemplate{section in toc}[square]
\setbeamertemplate{section in toc shaded}[square]
\setbeamertemplate{subsection in toc}[square]
\setbeamertemplate{subsection in toc shaded}[square]
\setbeamertemplate{itemize item}[ball]
\setbeamertemplate{itemize subitem}[triangle]
\setbeamercovered{invisible}

% ----------------- %
%  CUSTOM COMMANDS  %
% ----------------- %
\newcommand{\nolistindent}{\hspace{-3.5pt}}
\newcommand{\textbg}[1]{\textcolor{UTVlightgreen}{\textbf{#1}}}
\newcommand{\textbr}[1]{\textcolor{UTVred}{\textbf{#1}}}

% --------------- %
%  TIKZ SETTINGS  %
% --------------- %
\RequirePackage{tikz}
\usetikzlibrary{
                arrows,
                arrows.meta,
                fit,
                positioning,
                shapes,
                automata
}
\tikzstyle{block} = [draw, rectangle, minimum height=3em, minimum width=4em]
\tikzstyle{sum} = [draw, circle, node distance=0.8cm]
\tikzstyle{input} = [coordinate]
\tikzstyle{output} = [coordinate]
\tikzstyle{pinstyle} = [pin edge={to-, thin, black}]

% -------- %
%  COLORS  %
% -------- %
\definecolor {white}{rgb}{1.0,1.0,1.0}
\definecolor {black}{rgb}{0.0,0.0,0.0}
\definecolor {darkgray}{rgb}{0.3,0.3,0.3}
\definecolor {gray}{rgb}{0.5,0.5,0.5}
\definecolor {lightgray}{rgb}{0.8,0.8,0.8}
\definecolor {darkred}{rgb}{0.8,0.0,0.0}
\definecolor {red} {rgb}{1.0,0.0,0.0}
\definecolor {darkgreen}{rgb}{0.0,0.6,0.0}
\definecolor {green}{rgb}{0.0,1.0,0.0}
\definecolor {darkblue}{rgb}{0.0,0.0,0.8}
\definecolor {blue}{rgb}{0.0,0.0,1.0}
\definecolor {darkyellow}{rgb}{0.8,0.8,0.6}
\definecolor {yellow}{rgb}{1.0,1.0,0.0}
\definecolor {darkcyan}{rgb}{0.6,0.8,0.8}
\definecolor {cyan}{rgb}{0.0,1.0,1.0}
\definecolor {darkmagenta}{rgb}{0.8,0.6,0.8}
\definecolor {magenta}{rgb}{1.0,0.0,1.0}

% ------------------- %
%  MATH ENVIRONMENTS  %
% ------------------- %
\newtheorem{thm}{Theorem}[section]
\newtheorem{ex}{Example}
\newtheorem{cor}{Corollary}[section]
\newtheorem{prop}[thm]{Proposition}
\newtheorem{lem}[thm]{Lemma}
\newtheorem{conjec}[thm]{Conjecture}
\theoremstyle{remark}
\newtheorem*{rem}{Remark}
\theoremstyle{definition}
\newtheorem{defn}{Definition}[section]
\newtheorem{ass}{Assumption}[section]
\newtheorem{assumption}{Assumption}
\newtheorem{algo}{Algorithm}
\newtheorem{proposition}{Proposition}
\newcommand{\C}{\mathbb{C}}
\newcommand{\R}{\mathbb{R}}
\newcommand{\N}{\mathbb{N}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\norm}[1]{\left\Vert#1\right\Vert}
\newcommand{\norminf}[1]{\left\Vert#1\right\Vert_{\infty}}
\newcommand{\abs}[1]{\left\vert#1\right\vert}
\newcommand{\dz}{\textnormal{dz}}
\newcommand{\sat}{\textnormal{sat}}
\newcommand{\sign}{\textnormal{sign}}
\newcommand{\diag}{\textnormal{diag}}
\newcommand{\blockdiag}{\textnormal{blockdiag}}
\newcommand{\rank}{\textnormal{rank}}
\newcommand{\fracpar}[2]{\frac{\partial #1}{\partial #2}}
\newcommand{\diff}[2]{\frac{\partial #1}{\partial #2}}
